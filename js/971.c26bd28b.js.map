{"version":3,"file":"js/971.c26bd28b.js","mappings":"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","sources":["webpack://vue_shop/./src/components/godds/AddGoods.vue","webpack://vue_shop/src/components/godds/AddGoods.vue","webpack://vue_shop/./src/components/godds/AddGoods.vue?75b5","webpack://vue_shop/./src/components/godds/AddGoods.vue?dc71"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品创建\")])],1),_c('el-card',[_c('el-alert',{attrs:{\"title\":\"商品创建区域\",\"closable\":false,\"type\":\"info\",\"show-icon\":\"\"}}),_c('el-steps',{attrs:{\"active\":_vm.active - 0,\"finish-status\":\"success\",\"align-center\":\"\"}},[_c('el-step',{attrs:{\"title\":\"商品信息\"}}),_c('el-step',{attrs:{\"title\":\"商品参数\"}}),_c('el-step',{attrs:{\"title\":\"商品属性\"}}),_c('el-step',{attrs:{\"title\":\"商品图片\"}}),_c('el-step',{attrs:{\"title\":\"商品内容\"}}),_c('el-step',{attrs:{\"title\":\"完成\"}})],1),_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"100px\",\"label-position\":\"top\"}},[_c('el-tabs',{attrs:{\"tab-position\":_vm.tabPosition,\"before-leave\":_vm.beforeTabLeave},on:{\"tab-click\":_vm.tabClick},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('el-tab-pane',{attrs:{\"name\":\"0\",\"label\":\"商品信息\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品名称\"},model:{value:(_vm.addForm.goods_name),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_name\", $$v)},expression:\"addForm.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品价格\",\"type\":\"number\"},model:{value:(_vm.addForm.goods_price),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_price\", $$v)},expression:\"addForm.goods_price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品重量\",\"type\":\"number\"},model:{value:(_vm.addForm.goods_weight),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_weight\", $$v)},expression:\"addForm.goods_weight\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"goods_number\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品数量\",\"type\":\"number\"},model:{value:(_vm.addForm.goods_number),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_number\", $$v)},expression:\"addForm.goods_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类\",\"prop\":\"goods_cat\"}},[_c('el-cascader',{attrs:{\"options\":_vm.cateList,\"props\":_vm.cateProps,\"clearable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.addForm.goods_cat),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_cat\", $$v)},expression:\"addForm.goods_cat\"}})],1)],1),_c('el-tab-pane',{attrs:{\"name\":\"1\",\"label\":\"商品参数\"}},_vm._l((_vm.cateListSC),function(item){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[_c('el-checkbox-group',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}},_vm._l((item.attr_vals),function(item2,index2){return _c('el-checkbox',{key:index2,attrs:{\"border\":\"\",\"label\":item2}})}),1)],1)}),1),_c('el-tab-pane',{attrs:{\"name\":\"2\",\"label\":\"商品属性\"}},_vm._l((_vm.cateOnlyListSC),function(item){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[_c('el-input',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}})],1)}),1),_c('el-tab-pane',{attrs:{\"name\":\"3\",\"label\":\"商品图片\"}},[_c('el-upload',{attrs:{\"action\":_vm.uploadURL,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"list-type\":\"picture\",\"headers\":_vm.headersOBJ}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-tab-pane',{attrs:{\"name\":\"4\",\"label\":\"商品内容\"}},[_c('quill-editor',{ref:\"myQuillEditor\",model:{value:(_vm.addForm.goods_introduce),callback:function ($$v) {_vm.$set(_vm.addForm, \"goods_introduce\", $$v)},expression:\"addForm.goods_introduce\"}}),_c('el-button',{staticClass:\"btncls\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加商品\")])],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"图片预览\",\"visible\":_vm.previewDialogVisible,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.previewDialogVisible=$event}}},[_c('img',{attrs:{\"src\":_vm.previewPath}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品创建</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <el-alert title=\"商品创建区域\" :closable=\"false\" type=\"info\" show-icon>\r\n      </el-alert>\r\n      <!--  -->\r\n      <!-- 步骤条 -->\r\n      <el-steps :active=\"active - 0\" finish-status=\"success\" align-center>\r\n        <el-step title=\"商品信息\"></el-step>\r\n        <el-step title=\"商品参数\"></el-step>\r\n        <el-step title=\"商品属性\"></el-step>\r\n        <el-step title=\"商品图片\"></el-step>\r\n        <el-step title=\"商品内容\"></el-step>\r\n        <el-step title=\"完成\"></el-step>\r\n      </el-steps>\r\n      <!-- tab栏 -->\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        ref=\"addFormRef\"\r\n        label-width=\"100px\"\r\n        label-position=\"top\"\r\n      >\r\n        <el-tabs\r\n          :tab-position=\"tabPosition\"\r\n          v-model=\"active\"\r\n          :before-leave=\"beforeTabLeave\"\r\n          @tab-click=\"tabClick\"\r\n        >\r\n          <el-tab-pane name=\"0\" label=\"商品信息\">\r\n            <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n              <el-input\r\n                v-model=\"addForm.goods_name\"\r\n                placeholder=\"请输入商品名称\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n              <el-input\r\n                v-model=\"addForm.goods_price\"\r\n                placeholder=\"请输入商品价格\"\r\n                type=\"number\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n              <el-input\r\n                v-model=\"addForm.goods_weight\"\r\n                placeholder=\"请输入商品重量\"\r\n                type=\"number\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n              <el-input\r\n                v-model=\"addForm.goods_number\"\r\n                placeholder=\"请输入商品数量\"\r\n                type=\"number\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n              <el-cascader\r\n                :options=\"cateList\"\r\n                :props=\"cateProps\"\r\n                v-model=\"addForm.goods_cat\"\r\n                @change=\"handleChange\"\r\n                clearable\r\n              ></el-cascader>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane name=\"1\" label=\"商品参数\">\r\n            <el-form-item\r\n              :label=\"item.attr_name\"\r\n              v-for=\"item in cateListSC\"\r\n              :key=\"item.attr_id\"\r\n            >\r\n              <el-checkbox-group v-model=\"item.attr_vals\">\r\n                <el-checkbox\r\n                  border\r\n                  :label=\"item2\"\r\n                  v-for=\"(item2, index2) in item.attr_vals\"\r\n                  :key=\"index2\"\r\n                ></el-checkbox\r\n              ></el-checkbox-group>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane name=\"2\" label=\"商品属性\">\r\n            <el-form-item\r\n              :label=\"item.attr_name\"\r\n              v-for=\"item in cateOnlyListSC\"\r\n              :key=\"item.attr_id\"\r\n            >\r\n              <el-input v-model=\"item.attr_vals\"></el-input>\r\n            </el-form-item>\r\n          </el-tab-pane>\r\n          <el-tab-pane name=\"3\" label=\"商品图片\">\r\n            <!--action:图片后台的地址  -->\r\n            <el-upload\r\n              :action=\"uploadURL\"\r\n              :on-preview=\"handlePreview\"\r\n              :on-remove=\"handleRemove\"\r\n              :on-success=\"handleSuccess\"\r\n              list-type=\"picture\"\r\n              :headers=\"headersOBJ\"\r\n            >\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n            </el-upload>\r\n          </el-tab-pane>\r\n          <el-tab-pane name=\"4\" label=\"商品内容\">\r\n            <quill-editor\r\n              ref=\"myQuillEditor\"\r\n              v-model=\"addForm.goods_introduce\"\r\n            />\r\n            <!-- 添加商品的按钮 -->\r\n            <el-button type=\"primary\" class=\"btncls\" @click=\"add\"\r\n              >添加商品</el-button\r\n            >\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-form>\r\n    </el-card>\r\n    <!-- 图片预览 -->\r\n    <el-dialog\r\n      title=\"图片预览\"\r\n      :visible.sync=\"previewDialogVisible\"\r\n      width=\"60%\"\r\n    >\r\n      <img :src=\"previewPath\" />\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nexport default {\r\n  name: 'add-',\r\n  data () {\r\n    return {\r\n      uploadURL: 'http://127.0.0.1:8888/api/private/v1/upload',\r\n      headersOBJ: {\r\n        Authorization: sessionStorage.getItem('token')\r\n      },\r\n      previewPath: '',\r\n      previewDialogVisible: false,\r\n      cateList: [],\r\n      // 静态属性\r\n      cateOnlyListSC: [],\r\n      active: '0',\r\n      tabPosition: 'left',\r\n      //   动态参数列表数据\r\n      cateListSC: [],\r\n      addForm: {\r\n        goods_name: '',\r\n        goods_price: 0,\r\n        goods_weight: 0,\r\n        goods_number: 0,\r\n        pics: [],\r\n        // 商品所属的分类\r\n        goods_cat: [],\r\n        attrs: [],\r\n        goods_introduce: ''\r\n      },\r\n      addFormRules: {\r\n        goods_name: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' }\r\n        ],\r\n        goods_price: [\r\n          { required: true, message: '请输入商品价格', trigger: 'blur' }\r\n        ],\r\n        goods_weight: [\r\n          { required: true, message: '请输入商品重量', trigger: 'blur' }\r\n        ],\r\n        goods_number: [\r\n          { required: true, message: '请输入商品数量', trigger: 'blur' }\r\n        ],\r\n        goods_cat: [\r\n          { required: true, message: '请选择商品分类', trigger: 'blur' }\r\n        ]\r\n      },\r\n      //   级联选择器\r\n      cateProps: {\r\n        value: 'cat_id',\r\n        label: 'cat_name',\r\n        children: 'children'\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getCateList()\r\n  },\r\n\r\n  methods: {\r\n    async getCateList () {\r\n      const { data: res } = await this.$axios.get('categories')\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error(res.meta.msg)\r\n      }\r\n      this.cateList = res.data\r\n      return this.$message.success(res.meta.msg)\r\n    },\r\n    // 级联选择器的函数\r\n    handleChange () {\r\n      //   console.log(this.addForm.goods_cat)\r\n      if (this.addForm.goods_cat.length !== 3) {\r\n        this.addForm.goods_cat = []\r\n        return this.$message.info('只能选择三级商品')\r\n      }\r\n    },\r\n    // beforeTabLeave\r\n    beforeTabLeave (activeName, oldActiveName) {\r\n      //   console.log('即将离开的标签页' + oldActiveName)\r\n      //   console.log('即将进入的标签页' + activeName)\r\n      if (oldActiveName === '0' && this.addForm.goods_cat.length !== 3) {\r\n        this.$message.error('请选择商品分类')\r\n        return false\r\n      }\r\n    },\r\n    async tabClick () {\r\n      //   console.log(this.active)\r\n      if (this.active === '1') {\r\n        const { data: res } = await this.$axios.get(\r\n          `categories/${this.cateId}/attributes`,\r\n          {\r\n            params: { sel: 'many' }\r\n          }\r\n        )\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error(res.meta.msg)\r\n        }\r\n        //\r\n        res.data.forEach((element) => {\r\n          element.attr_vals =\r\n            element.attr_vals.length === 0 ? [] : element.attr_vals.split(',')\r\n        })\r\n        this.cateListSC = res.data\r\n        // console.log(this.cateListSC)\r\n        return this.$message.success(res.meta.msg)\r\n      } else if (this.active === '2') {\r\n        const { data: res } = await this.$axios.get(\r\n          `categories/${this.cateId}/attributes`,\r\n          {\r\n            params: { sel: 'only' }\r\n          }\r\n        )\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error(res.meta.msg)\r\n        }\r\n        //\r\n        // res.data.forEach((element) => {\r\n        //   element.attr_vals =\r\n        //     element.attr_vals.length === 0 ? [] : element.attr_vals.split(',')\r\n        // })\r\n        this.cateOnlyListSC = res.data\r\n        // console.log(this.cateOnlyListSC)\r\n        return this.$message.success(res.meta.msg)\r\n      }\r\n    },\r\n    // 图片预览\r\n    handlePreview (file) {\r\n      console.log(file)\r\n      this.previewPath = file.response.data.url\r\n      this.previewDialogVisible = true\r\n    },\r\n    // 图片移除\r\n    handleRemove (file) {\r\n      //   console.log(file)\r\n      const index = file.response.data.tmp_path\r\n      this.addForm.pics.findIndex((x) => {\r\n        return x.pic === index\r\n      })\r\n      this.addForm.pics.splice(index, 1)\r\n      //   console.log(this.addForm)\r\n    },\r\n    // 图片上传成功\r\n    handleSuccess (response) {\r\n      //   console.log(response)\r\n      const ppp = { pic: response.data.tmp_path }\r\n      this.addForm.pics.push(ppp)\r\n      //   console.log(this.addForm.pics)\r\n    },\r\n    // 添加\r\n    add () {\r\n      this.$refs.addFormRef.validate(async (v) => {\r\n        if (!v) {\r\n          return this.$message.error('请填写必要的内容')\r\n        }\r\n        // 执行添加的业务\r\n        const form = _.cloneDeep(this.addForm)\r\n        form.goods_cat = form.goods_cat.join(',')\r\n        // 动态参数处理\r\n        this.cateListSC.forEach((item) => {\r\n          const newInfo = {\r\n            attr_id: item.attr_id,\r\n            attr_value: item.attr_vals.join(',')\r\n          }\r\n          this.addForm.attrs.push(newInfo)\r\n        })\r\n        // 静态属性处理\r\n        this.cateOnlyListSC.forEach((item) => {\r\n          const newInfo = {\r\n            attr_id: item.attr_id,\r\n            attr_value: item.attr_vals\r\n          }\r\n          this.addForm.attrs.push(newInfo)\r\n        })\r\n        form.attrs = this.addForm.attrs\r\n        // 发起添加商品的请求 商品名字必须唯一\r\n        const { data: res } = await this.$axios.post('goods', form)\r\n        if (res.meta.status !== 201) {\r\n          return this.$message.error(res.meta.msg)\r\n        }\r\n        console.log(form)\r\n        this.$router.push('/goods')\r\n        return this.$message.success(res.meta.msg)\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    cateId () {\r\n      if (this.addForm.goods_cat.length === 3) {\r\n        return this.addForm.goods_cat[2]\r\n      }\r\n      return null\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.btncls {\r\n  margin: 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddGoods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddGoods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddGoods.vue?vue&type=template&id=7e7ab616&scoped=true&\"\nimport script from \"./AddGoods.vue?vue&type=script&lang=js&\"\nexport * from \"./AddGoods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddGoods.vue?vue&type=style&index=0&id=7e7ab616&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e7ab616\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","active","ref","addForm","addFormRules","tabPosition","beforeTabLeave","on","tabClick","model","value","callback","$$v","expression","goods_name","$set","goods_price","goods_weight","goods_number","cateList","cateProps","handleChange","goods_cat","_l","cateListSC","item","key","attr_id","attr_name","attr_vals","item2","index2","cateOnlyListSC","uploadURL","handlePreview","handleRemove","handleSuccess","headersOBJ","goods_introduce","staticClass","add","previewDialogVisible","$event","previewPath","staticRenderFns","name","data","Authorization","pics","required","message","trigger","label","children","created","methods","params","sel","res","element","pic","form","attr_value","computed","cateId","component"],"sourceRoot":""}